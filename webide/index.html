<html>

  <head>
    <title>PJS WEB IDE</title>
    <script src="../processing.js" type="text/javascript"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  
  <body onload="runIt();">
    <h1><a href="http://asalga.wordpress.com">Andor Salga</a></h1>
    <h2>PJS WEB IDE</h2>

    <p>
     <!-- Page seems to work with <a href="http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/">Minefield</a> and <a href="http://build.chromium.org/buildbot/snapshots/">Chrome</a>, but not <a href="http://nightly.webkit.org/">Webkit</a><br />
      <br />-->
      Make changes to the sketch source on the left and click the button on the bottom<br />
      to update the canvas. Keep in mind not all 3D functionality has been implemented and<br />
      there are still some bugs...<br />
    </p>

    <table>
      <tr>
        <td>
          <textarea id="source" rows="30" cols="30%">
float r = 0;

void setup()
{
  // Don't modify this...
  size(500,500,OPENGL);
}

void draw()
{
  camera();
  background(33,66,99);

  translate(250,260,380);
  rotateY(r += 0.01);
  
  strokeWeight(1);
    
  for(int i = 0; i < 12; i++)
  {
    pushMatrix();
    translate(i-5,-2,0);
    translate(0,cos(frameCount/5 + i),0);
    rotateZ(sin(frameCount/30));
    box(1,1,1);
    popMatrix();
  }
  
  strokeWeight(3);
  box(13,1,13);
}</textarea>
        </td>

        <td>
          <canvas id="display" width="500" height="500"></canvas>  
        </td>

      </tr>
    </table>

    <script type="text/javascript">
      function runIt()
      {
       var a = document.getElementById('display');
      // alert(a);
      
        Processing(display,source.value);
      }
    </script>
    
    <input type="button" onclick="runIt();" value= "Double Compile!"/><b>Click this furiously!</b>
    
    <br />
    <br />
    <br />
  </body>
</html>